<!DOCTYPE html>
<html>
    <head>

        <title>Practice jQuery</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <!--<script src="lesson5.js"></script>-->
        <script type="text/javascript">
            $(document).ready(function() {

                var canvas = $("#myCanvas").get(0);

                var context = canvas.getContext("2d");

                var image = new Image();

                image.src = "flower3.jpg";


                $(image).load(function(){

                    context.drawImage(image, 0, 0);

                });

                
                $(canvas).click(function(event){

                    var canvasGap = $(canvas).offset();

                    var actualX = Math.floor(event.pageX - canvasGap.left);

                    var actualY = Math.floor(event.pageY - canvasGap.top);


                    var pixelData = context.getImageData(actualX, actualY, 1, 1);

                    var data = pixelData.data;

                    var pixelColor = "rgba(" + data[0] + ", " + data[1] + ", " + data[2] + ", " + data[3] + ")";

                    alert(pixelColor);

                    $("#display").css("backgroundColor", pixelColor);


                });
            });

        </script>
        
    </head>
    <body>

        <canvas id="myCanvas">

            Your browser does not support HTML5 canvas!!!

        </canvas>

        <div id="display" style="width:200px;height:100px;"></div>

    </body>
</html>